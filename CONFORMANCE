grc conformance to rc(1)

This document records behavior relative to the Plan 9 rc(1) manual.
The goal is semantic conformance where practical; differences are noted.

Source
- Plan 9 from User Space rc(1) manual in docs/rc(1) - Plan 9 from User Space.pdf

Status summary
- Parsing of core rc syntax: partial but expanding
- Expansion rules ($, ^, free carets, glob): mostly aligned
- Control flow: if/for/while/switch implemented
- Job control: partial (jobs/fg/bg only; terminal control still being tuned)

Quoting and lexical rules
- Single quotes are implemented; '' inside single quotes becomes a single quote.
- Backslash-newline is treated as a blank (line continuation).
- Comments: # starts a comment to end-of-line, except inside single quotes.

Variables and lists
- Variables are list-valued.
- $name expands to a list; undefined expands to an empty list.
- $1..$n, $*, $0 implemented for function calls.
- $status is a list containing a numeric exit code.
- $ifs controls backquote field splitting; default is space, tab, newline.

Concatenation and free carets
- Free carets are inserted between adjacent argument atoms without whitespace.
- ^ concatenation uses rc rules:
  - pairwise if lengths equal
  - distributive if one side length is 1
  - otherwise error

Globbing
- * ? [] patterns expanded after $ and ^.
- No-match patterns remain literal.

Backquote substitution
- `{...} command substitution supported (minimal).
- ``word{...} provides an ifs override via the leading word.
- Output split on $ifs.

Control flow
- if (list) command, with else branch.
- for(name in list) and for(name) using $*.
- while(list) command.
- switch(expr){case ...} with rc-style match semantics.
- ! operator implemented (status inversion).

Builtins
- cd, pwd, exit, jobs, fg, bg, apid implemented.
- exec, wait, shift, ., ~ not yet implemented.

Known gaps / mismatches
- Full quote/escape behavior is still partial (no double-quote semantics).
- fd redirection syntax is parsed but not yet executed (dup, n>m).
- Here documents and ${} expansion are not implemented.

Conformance tests
Golden tests live under testdata/conformance and are executed by
internal/eval/conformance_test.go.
